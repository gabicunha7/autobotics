<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Autobotics | Dashboard</title>
    <link rel="stylesheet" href="css/sidebar.css">
    <link rel="stylesheet" href="css/css_gabi.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@1.1.0"></script>
</head>

<body>
    <aside>
        <section>
            <section class="menu-container">
                <img class="img-logo-curta" src="assets/logo/LOGO_CURTA.png" alt="">
                <h1>MENU</h1>

                <div class="paginas-container">
                    <a class="a-pagina" onclick="cargoDash()" id="agora">
                        <img class="icon-pagina" src="assets/icones/dash_icon.png" alt="">
                        Dashboard
                    </a>
                    <a class="a-pagina" href="alerta.html">
                        <img class="icon-pagina" src="assets/icones/alerta_icon.png" alt="">
                        Alertas
                    </a>
                    <a class="a-pagina" href="parametros.html">
                        <img class="icon-pagina" src="assets/icones/parametros_icon.png" alt="">
                        Parâmetros
                    </a>
                    
                    <a class="a-pagina" href="setor.html">
                        <img class="icon-pagina" src="assets/icones/setor_icon.png" alt="">
                        Setores
                    </a>
                    <a class="a-pagina" href="controladores.html">
                        <img class="icon-pagina" src="assets/icones/controlador_icon.png" alt="">
                        Controladores
                    </a>
                    <a class="a-pagina" href="funcionario.html">
                        <img class="icon-pagina" src="assets/icones/userImg.png" alt="">
                        Funcionários
                    </a>
                </div>
            </section>
            <a href="index.html">
                <button id="btn-sair" onclick="limparSessao()">
                    <img class="icon-sair" src="assets/icones/sair_icon.png" alt="">
                    Sair
                </button>
            </a>
    </aside>

    <section class="container-content">
        <div class="div-superior">                

            <div class="div-filtro">
                <div class="div_select">
                    <p>Setor: </p>
                    <select id="slc_setor">
                        <option value="Setor_A">Setor A</option>
                        <option value="Setor_B">Setor B</option>
                        <option value="Setor_C">Setor C</option>
                        <option value="Setor_D">Setor D</option>
                    </select>
                </div>
            </div>

            <div class="div-usuario">
                <div class="div-img-usuario">
                    <img src="assets/icones/foto_usuario.png" alt="">
                </div>
                <div>
                    <h6 id="nome-usuario"></h6>
                    <p id="email-usuario"></p>
                </div>
            </div>
        </div>

 <div class="div-info-conteudo">
                <h3>Dashboard - Uso de Disco</h3>
                <p id="data_atual"></p>
            </div>
        <div class="div-conteudo">
            <div class="container-conteudo">
                <div class="div-metricas">
                        <div class="esquerda">
                        <h1>Estado dos discos do Setor</h1>
                        <div class="kpis">
                            <div class="kpi_dashboard" id="porcentagem-media">
                                <h3>Média de uso de disco do setor</h3>
                                <div class="kpi_view">
                                    <p class="porcentagem-media">50%</p>
                                    <!-- <button onclick="abrirPopUpCadastro('media_uso')">Visualizar</button> -->
                                    <img src="./assets/icones/media.png" style="width: 20%;">
                                </div>
                            </div>
                            <div class="kpi_dashboard" id="componente-alertas">
                                <h3 style="font-size: x-large;">Quantidade de discos com alerta essa semana</h3>
                                <div class="kpi_view">
                                    <p class="componente-alertas">5</p>
                                    <button onclick="abrirPopUpCadastro('alertas_semana')">Visualizar</button>
                                </div>
                            </div>
                        </div>
                    <div class="listagem">
                        <table id="controlador-table" class="tabela">
                        <th>Número Serial</th>
                        <th>Total GB</th>
                        <th>% de uso</th>
                        <th>Status</th>
                        <th>Visualizar</th>
                        </tr>

                        <tr>
                        <td>ABS123</td>
                        <td>256</td>
                        <td>88</td>
                        <td><p style="background-color: #ff3f2e!important;border-radius: 10px;">Crítico</p></td>
                        <td onclick=""><img src="assets/icones/dashboard.png"></td>
                        </tr>
                        
                        <tr>
                        <td>BDA543</td>
                        <td>256</td>
                        <td>86</td>
                        <td><p style="background-color: #ff3f2e!important;border-radius: 10px;">Crítico</p></td>
                        <td onclick=""><img src="assets/icones/dashboard.png"></td>
                        </tr>
                        
                        <tr>
                        <td>NSJ754</td>
                        <td>256</td>
                        <td>85</td>
                        <td><p style="background-color: #ff3f2e!important;border-radius: 10px;">Crítico</p></td>
                        <td onclick=""><img src="assets/icones/dashboard.png"></td>
                        </tr>
                        
                        <tr>
                        <td>NDH839</td>
                        <td>256</td>
                        <td>83</td>
                        <td><p style="background-color: #ff3f2e!important;border-radius: 10px;">Crítico</p></td>
                        <td onclick=""><img src="assets/icones/dashboard.png"></td>
                        </tr>
                        
                        <tr>
                        <td>LDS920</td>
                        <td>256</td>
                        <td>79</td>
                        <td><p style="background-color: #e6ac00!important;border-radius: 10px;">Médio</p></td>
                        <td onclick=""><img src="assets/icones/dashboard.png"></td>
                        </tr>

                        <tr>
                        <td>NDA819</td>
                        <td>256</td>
                        <td>78</td>
                        <td><p style="background-color: #e6ac00!important;">Médio</p></td>
                        <td onclick=""><img src="assets/icones/dashboard.png"></td>
                        </tr>                        
                        
                        <tr>
                        <td>NDS728</td>
                        <td>256</td>
                        <td>77</td>
                        <td><p style="background-color: #e6ac00!important;border-radius: 10px;">Médio</p></td>
                        <td onclick=""><img src="assets/icones/dashboard.png"></td>
                        </tr>
                        
                        <tr>
                        <td>KSI123</td>
                        <td>256</td>
                        <td>75</td>
                        <td><p style="background-color: #e6ac00!important;border-radius: 10px;">Médio</p></td>
                        <td onclick=""><img src="assets/icones/dashboard.png"></td>
                        </tr>                        
                        
                        <tr>
                        <td>YSH839</td>
                        <td>256</td>
                        <td>60</td>
                        <td><p style="background-color: #4CAF50!important;border-radius: 10px;">Estável</p></td>
                        <td onclick=""><img src="assets/icones/dashboard.png"></td>
                        </tr>                        
                        
                        <tr>
                        <td>ISJ459</td>
                        <td>256</td>
                        <td>50</td>
                        <td><p style="background-color: #4CAF50!important;border-radius: 10px;">Estável</p></td>
                        <td onclick=""><img src="assets/icones/dashboard.png"></td>
                        </tr>

                        </table>
                    </div>
                    </div>
                            <div class="direita">                        
                                <div class="div_select">
                                    <p>Controlador: </p>
                                    <select id="slc_controlador">
                                        <option value="ABS123">ABS123</option>
                                        <option value="BDA543">BDA543</option>
                                        <option value="NSJ754">NSJ754</option>
                                        <option value="NDH839">NDH839</option>
                                        <option value="LDS920">LDS920</option>
                                        <option value="NDA819">NDA819</option>
                                        <option value="NDS728">NDS728</option>
                                        <option value="KSI123">KSI123</option>
                                        <option value="YSH839">YSH839</option>
                                        <option value="ISJ459">ISJ459</option>
                                </select>
                            </div>
                            <div class="div_grafico_uso_historico">
                                <p class="titulo_grafico">Uso do disco em um ano</p>
                                <canvas id="grafico_historico"></canvas>
                            </div>
                            <div class="kpi_dashboard_controlador" id="config-disco">
                                <p class="config-disco"style="font-size: x-large;">Total de espaço: 256GB</p>
                                <p class="config-disco"style="font-size: x-large;">Uso do disco: 80%</p>
                            </div>
                            <div class="kpi_dashboard_controlador" id="previsao-disco">
                                <p class="previsao-disco"style="font-size: x-large;">20-11-2025</p>
                                <h3 style="font-size: x-large;">Data de previsão para Crítico</h3>
                            </div>
                        </div>
                    </div>
        </div>

        <!-- <div id="media_uso" class="campos">
            <div class="topo">
                <p onclick="fecharPopUp('media_uso')"><img src="assets/icones/x_icon.png"></p>
            </div>
            <div class="listagem" id="tabela-pop-up">
                
                 <table id="media-table" class="tabela">
                        <th>Número Serial</th>
                        <th>% de uso</th>
                        </tr>

                        <tr>
                        <td>ABS123</td>
                        <td>88</td>
                        </tr>
                        
                        <tr>
                        <td>BDA543</td>
                        <td>86</td>
                        </tr>
                        
                        <tr>
                        <td>BDA543</td>
                        <td>86</td>
                        </td>
                        </tr>

                        <tr>
                        <td>BDA543</td>
                        <td>86</td>
                        </tr>                        
            </table>
            </div>
        </div> -->

        <div id="alertas_semana" class="campos">
            <div class="topo">
                <p onclick="fecharPopUp('alertas_semana')"><img src="assets/icones/x_icon.png"></p>
            </div>
            <div class="listagem" id="tabela-pop-up">
                <h1>Listagem de alertas nesta semana do Setor A</h1>
                <table class="tabela" id="alerta-table">
                            <tr>
                            <th>Timestamp</th>
                            <th>Número Serial</th>
                            <th>% de uso</th>
                            <th>Status</th>
                            </tr>

                            <tr>
                            <td>2025-12-03 12:23:11</td>
                            <td>ABS123</td>
                            <td>88</td>
                            <td><p style="background-color: #ff3f2e!important;border-radius: 10px;">Crítico</p></td>
                            </tr>
                            
                            <tr>
                            <td>2025-12-01 22:23:11</td>
                            <td>BDA543</td>
                            <td>86</td>
                            <td><p style="background-color: #ff3f2e!important;border-radius: 10px;">Crítico</p></td>
                            </tr>
                            
                            <tr>
                            <td>2025-11-29 12:23:11</td>
                            <td>NSJ754</td>
                            <td>85</td>
                            <td><p style="background-color: #ff3f2e!important;border-radius: 10px;">Crítico</p></td>
                            </tr>
                            
                            <tr>
                            <td>2025-11-29 09:23:11</td>
                            <td>NDH839</td>
                            <td>83</td>
                            <td><p style="background-color: #ff3f2e!important;border-radius: 10px;">Crítico</p></td>
                            </tr>
                            
                            <tr>
                            <td>2025-11-29 05:23:11</td>
                            <td>LDS920</td>
                            <td>79</td>
                            <td><p style="background-color: #e6ac00!important;border-radius: 10px;">Médio</p></td>
                            </tr>

                            <tr>
                            <td>2025-11-29 07:23:11</td>
                            <td>NDA819</td>
                            <td>78</td>
                            <td><p style="background-color: #e6ac00!important;">Médio</p></td>
                            </tr>                        
                            
                            <tr>
                            <td>2025-11-29 01:23:11</td>
                            <td>NDS728</td>
                            <td>77</td>
                            <td><p style="background-color: #e6ac00!important;border-radius: 10px;">Médio</p></td>
                            </tr>
                            
                            <tr>
                            <td>2025-11-29 00:23:11</td>
                            <td>KSI123</td>
                            <td>75</td>
                            <td><p style="background-color: #e6ac00!important;border-radius: 10px;">Médio</p></td>
                            </tr>     

                            <tr>
                            <td>2025-11-28 01:00:11</td>
                            <td>NDS728</td>
                            <td>77</td>
                            <td><p style="background-color: #e6ac00!important;border-radius: 10px;">Médio</p></td>
                            </tr>
                            
                            <tr>
                            <td>2025-11-28 00:23:11</td>
                            <td>KSI123</td>
                            <td>75</td>
                            <td><p style="background-color: #e6ac00!important;border-radius: 10px;">Médio</p></td>
                            </tr>  

                                    
                </table>
            </div>
        </div>
    </section>

</body>

<div id="overlay"></div>

<script src="js/historico_disco.js"></script>

<script>

    // function corBarra(list){
    //     cores = []
    //     list.forEach(e => {
    //         if(e >= 80){
    //             cores.push('#ff3f2e');
    //         } else if(e >=70){
    //             cores.push('#ff852e');
    //         } else {
    //             cores.push('#4CAF50');
    //         }
    //     })
    //     return cores;
    // }

    // let valores_grafico_barra = [87, 82, 74, 72, 68, 63, 55, 52, 50, 50];
    // const ctx_top10 = document.getElementById('grafico_uso_disco');

    // new Chart(ctx_top10, {
    //     type: 'bar',
    //     data: {
    //         labels: ['ABS123', 'BDA543', 'NSJ754', 'NDH839', 'LDS920', 'NDA819', 'NDS728', 'KSI123', 'YSH839', 'ISJ459'],
    //         datasets: [{
    //             label: 'Uso de disco em %',
    //             data: valores_grafico_barra,
    //             borderWidth: 2,
    //             backgroundColor: corBarra(valores_grafico_barra)
    //         }]
    //     },
    //     options: {
    //         scales: {
    //             x: {
    //                 title: {
    //                     display: true,
    //                     text: 'Controladores',
    //                     font: {
    //                         size: 18
    //                     }
    //                 },
    //                 ticks: {
    //                     font: {
    //                         size: 16
    //                     }
    //                 }
    //             },
    //             y: {
    //                 title: {
    //                     display: true,
    //                     text: 'Porcentagem (%)',
    //                     font: {
    //                         size: 18
    //                     }
    //                 },
    //                 ticks: {
    //                     font: {
    //                         size: 16
    //                     }
    //                 }
    //             }
    //         },
    //             plugins: {
    //             annotation: {
    //                 annotations: {
    //                     critico: {
    //                         type: 'line',
    //                         yMin: 80,
    //                         yMax: 80,
    //                         borderColor: 'red',
    //                         borderWidth: 2
    //                     },
    //                     medio: {
    //                         type: 'line',
    //                         yMin: 70,
    //                         yMax: 70,
    //                         borderColor: 'orange',
    //                         borderWidth: 2
    //                     }
    //                 }
    //             }
    //         }
    //     }
    // });
</script>


</html>